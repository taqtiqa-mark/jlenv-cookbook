---
version: 2.1
orbs:
  kitchen: taqtiqa/kitchen@1.3.3
  cmds: taqtiqa/commands@0.1.1

workflows:
  kitchen:
    jobs:
      - vagrant:
        steps:
          - cmds/get-pkg-check-install:
              url: 'https://releases.hashicorp.com/vagrant/2.2.5/vagrant_2.2.5_x86_64.deb'
              checksum: '415f50b93235e761db284c761f6a8240a6ef6762ee3ec7ff869d2bccb1a1cdf7'
              verify_command: 'vagrant'
    #   - kitchen/danger:
    #       name: danger
    #       context: Danger
      - kitchen/mdlint:
          name: mdlint
      - kitchen/yamllint:
          name: yamllint
      - kitchen/dokken:
          suite: global
          name: global
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          suite: global-opensuse-leap
          name: global-opensuse-leap
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          name: system-install-centos-7
          suite: system-install-centos-7
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          name: user-install-centos-7
          suite: user-install-centos-7
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          name: pkg-centos-7
          suite: pkg-centos-7
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          name: julia-uninstall-ubuntu-1804
          suite: julia-uninstall-ubuntu-1804
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
      - kitchen/dokken-single:
          name: custom-group
          suite: custom-group-install-centos-7
          requires: [mdlint, yamllint]
        #   requires: [mdlint, yamllint, danger]
